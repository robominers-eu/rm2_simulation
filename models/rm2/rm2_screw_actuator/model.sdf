<?xml version="1.0"?>
<sdf version="1.7">
  <model name="screwActuator">
  
    <!-- INCLUDE ACTUATOR LINK -->
    <!-- Así hay un link actuator genérico que no depende de lo que haya después -->
    <link name="aLink">
      <pose>0 0 0 0 0 0</pose>
    </link>
   
    <!-- INCLUDE SCREW BASE -->
    <link name="sbLink">
      <pose relative_to="j_a_sb">0 0 0 0 0 0</pose>
      <inertial>
        <mass>0.2</mass>
        <inertia>
          <ixx>0.064</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.064</iyy>
          <iyz>0</iyz>
          <izz>0.00024</izz>
        </inertia>
      </inertial>
      <!--<collision name="collision">
        <geometry>
          <cylinder>
            <radius>0.010</radius>
            <length>0.050</length>
          </cylinder>
        </geometry>
      </collision>-->
      <visual name="visual">
        <transparency>0.1</transparency>
        <geometry>
          <mesh>
            <uri>model://rm2/rm2_screw_actuator/meshes/screw_base.dae</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    
    <!-- JOINT ACTUATOR - SCREW BASE -->
    <joint name="j_a_sb" type="fixed">
      <pose relative_to="aLink">0 0 0 0 0 0</pose>
      <parent>aLink</parent>
      <child>sbLink</child>
    </joint>

    <!-- INCLUDE CW SCREW -->
    <link name="cwsLink">
      <!-- Posición del centro de masas del tornillo respecto a la unión con la base del actuador en su cara en el eje -->
      <pose relative_to="j_sb_cws">0 0 0.0406 0 0 0</pose>
      <inertial>
        <mass>0.2</mass>
        <inertia>
          <ixx>0.064</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.064</iyy>
          <iyz>0</iyz>
          <izz>0.00024</izz>
        </inertia>
      </inertial>
      <!--<collision name="collision">
        <geometry>
          <cylinder>
            <radius>0.022</radius>
            <length>0.083</length>
          </cylinder>
        </geometry>
      </collision>-->
      <visual name="visual">
        <transparency>0.1</transparency>
        <geometry>
          <mesh>
            <uri>model://rm2/rm2_screw_actuator/meshes/forward_screw.dae</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    
    <!-- JOINT SCREW BASE - CW SCREW -->
    <joint name="j_sb_cws" type="revolute">
      <!-- Posición del eje del actuador en la unión con el actuador delantero respecto al centro de masas de la base del actuador -->
      <pose relative_to="sbLink">0.010 0 0.0025 0 1.5708 0 </pose>
      <parent>sbLink</parent>
      <child>cwsLink</child>
      <axis>
        <xyz>0 0 1</xyz>
      </axis>
    </joint>    

    <!-- INCLUDE CCW SCREW -->
    <link name="ccwsLink">
      <!-- Posición del centro de masas del tornillo respecto a la unión con la base del actuador en su cara en el eje -->
      <pose relative_to="j_sb_ccws">0 0 0.0406 0 0 0</pose>
      <inertial>
        <mass>0.2</mass>
        <inertia>
          <ixx>0.064</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.064</iyy>
          <iyz>0</iyz>
          <izz>0.00024</izz>
        </inertia>
      </inertial>
      <!--<collision name="collision">
        <geometry>
          <!-<mesh>
            <scale> 0.001 0.001 0.001</scale>
            <uri>model://rm2/rm2_simple_leg_actuator/meshes/leg_motor.stl</uri>
          </mesh>->
          <cylinder>
            <radius>0.022</radius>
            <length>0.083</length>
          </cylinder>
        </geometry>
      </collision>-->
      <visual name="visual">
        <transparency>0.1</transparency>
        <geometry>
          <mesh>
            <uri>model://rm2/rm2_screw_actuator/meshes/backward_screw.dae</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    
    <!-- JOINT SCREW BASE - CCW SCREW -->
    <joint name="j_sb_ccws" type="revolute">
      <!-- Posición del eje del actuador en la unión con el actuador trasero respecto al centro de masas de la base del actuador -->
      <pose relative_to="sbLink">-0.010 0 0.0025 0 -1.5708 0 </pose>
      <parent>sbLink</parent>
      <child>ccwsLink</child>
      <axis>
        <xyz>0 0 1</xyz>
      </axis>
    </joint>  

  </model>
</sdf>
    
