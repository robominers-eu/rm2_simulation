<?xml version="1.0"?>
<sdf version="1.6">
  <model name="rm2_simple">
    
    <!-- INCLUDE BODY -->
    <include>
      <pose>0 0 0 0 0 0</pose>
      <uri>model://rm2_body</uri>
      <name>b</name>
    </include>

    <!-- INCLUDE SIMPLE LEG 1 - ABOVE -->
    <include>
      <pose relative_to="j_b_l1">-0.085512 0 0.011284 0 0 0</pose>
      <uri>model://rm2_simple_leg</uri>
      <name>l1</name>
    </include>

    <!-- JOINT BODY - SIMPLE LEG 1 - ABOVE -->
    <joint name="j_b_l1" type="fixed">
      <pose relative_to="b::bLink">0.081 0 0.074985 0 0 0</pose>
      <parent>b::bLink</parent>
      <child>l1::lLink</child>
      <!--<axis>
        <xyz>1 0 0</xyz>
        <limit>
          <lower>-0.785398</lower>
          <upper>0.785398</upper>
        </limit>
      </axis>-->
    </joint>
    
    <!-- POSITION JOINT BODY - SIMPLE LEG 1 - ABOVE -->
    <!--ign topic -t "/pos_j_b_l1" -m ignition.msgs.Double -p "data: 0.0"-->
    <!--<plugin
      filename="ignition-gazebo-joint-position-controller-system"
      name="ignition::gazebo::systems::JointPositionController">
      <joint_name>j_b_l1</joint_name>
      <topic>pos_j_b_l1</topic>
      <p_gain>4</p_gain>
      <i_gain>1</i_gain>
      <d_gain>1</d_gain>
      <i_max>1</i_max>
      <i_min>-1</i_min>
      <cmd_max>1000</cmd_max>
      <cmd_min>-1000</cmd_min>
    </plugin>-->
    
    <!-- POSITION JOINT MOTORS 1 - FRAMES 1 - ABOVE -->
    <!--ign topic -t "/pos_j_m1_f1" -m ignition.msgs.Double -p "data: 0.0"-->
    <!--<plugin
      filename="ignition-gazebo-joint-position-controller-system"
      name="ignition::gazebo::systems::JointPositionController">
      <joint_name>l1::j_m_f</joint_name>
      <topic>pos_j_m1_f1</topic>
      <p_gain>4</p_gain>
      <i_gain>1</i_gain>
      <d_gain>1</d_gain>
      <i_max>1</i_max>
      <i_min>-1</i_min>
      <cmd_max>1000</cmd_max>
      <cmd_min>-1000</cmd_min>
    </plugin>-->
    
    <!-- INCLUDE SIMPLE ACTUATOR 1 - ABOVE -->
    <include>
      <pose relative_to="j_l1_sa1">0 0 0.0106 0 -1.5708 0</pose>
      <uri>model://rm2_simple_actuator</uri>
      <name>sa1</name>
    </include>

    <!-- JOINT SIMPLE LEG 1 - SIMPLE ACTUATOR 1 - ABOVE -->
    <joint name="j_l1_sa1" type="fixed">
      <pose relative_to="l1::fLink">0 0 0.03825 0 0 0 </pose>
      <parent>l1::fLink</parent>
      <child>sa1::aLink</child>
      <!--<axis>
        <xyz>1 0 0</xyz>
        <limit>
          <lower>-0.785398</lower>
          <upper>0.785398</upper>
        </limit>
      </axis>-->
    </joint>
    
    <!-- POSITION JOINT SIMPLE LEG 1 - SIMPLE ACTUATOR 1 - ABOVE -->
    <!--ign topic -t "/pos_j_l1_sa1" -m ignition.msgs.Double -p "data: 0.0"-->
    <!--<plugin
      filename="ignition-gazebo-joint-position-controller-system"
      name="ignition::gazebo::systems::JointPositionController">
      <joint_name>j_l1_sa1</joint_name>
      <topic>pos_j_l1_sa1</topic>
      <p_gain>4</p_gain>
      <i_gain>1</i_gain>
      <d_gain>1</d_gain>
      <i_max>1</i_max>
      <i_min>-1</i_min>
      <cmd_max>1000</cmd_max>
      <cmd_min>-1000</cmd_min>
    </plugin>-->
    
    <!-- VELOCITY JOINT SIMPLE ACTUATOR BASE 1 - FORWARD SIMPLE ACTUATOR 1 - ABOVE -->
    <!--ign topic -t "/model/rm2_simple/joint/sa1::j_ab_fa/cmd_vel" -m ignition.msgs.Double -p "data: -1.0"-->
    <!--<plugin
      filename="ignition-gazebo-joint-controller-system"
      name="ignition::gazebo::systems::JointController">
      <joint_name>sa1::j_ab_fa</joint_name>
      <initial_velocity>0.1</initial_velocity>
    </plugin>-->
    
    <!-- VELOCITY JOINT SIMPLE ACTUATOR BASE 1 - BACKWARD SIMPLE ACTUATOR 1 - ABOVE -->
    <!--ign topic -t "/model/rm2_simple/joint/sa1::j_ab_ba/cmd_vel" -m ignition.msgs.Double -p "data: -1.0"-->
    <!--<plugin
      filename="ignition-gazebo-joint-controller-system"
      name="ignition::gazebo::systems::JointController">
      <joint_name>sa1::j_ab_ba</joint_name>
      <initial_velocity>0.1</initial_velocity>
    </plugin>-->
    
    <!-- INCLUDE SIMPLE LEG 2 - LEFT -->
    <include>
      <pose relative_to="j_b_l2">-0.085512 0 0.011284 0 0 0</pose>
      <uri>model://rm2_simple_leg</uri>
      <name>l2</name>
    </include>

    <!-- JOINT BODY - SIMPLE LEG 2 - LEFT -->
    <joint name="j_b_l2" type="revolute">
      <pose relative_to="b::bLink">0.081 0.064947 -0.037515 -2.09439510239 0 0</pose>
      <parent>b::bLink</parent>
      <child>l2::lLink</child>
      <axis>
        <xyz>1 0 0</xyz>
        <limit>
          <lower>-0.785398</lower>
          <upper>0.785398</upper>
        </limit>
      </axis>
    </joint>
    
    <!-- POSITION JOINT BODY - SIMPLE LEG 2 - LEFT -->
    <!--ign topic -t "/pos_j_b_l2" -m ignition.msgs.Double -p "data: 0.0"-->
    <plugin
      filename="ignition-gazebo-joint-position-controller-system"
      name="ignition::gazebo::systems::JointPositionController">
      <joint_name>j_b_l2</joint_name>
      <topic>pos_j_b_l2</topic>
      <p_gain>4</p_gain>
      <i_gain>1</i_gain>
      <d_gain>1</d_gain>
      <i_max>1</i_max>
      <i_min>-1</i_min>
      <cmd_max>1000</cmd_max>
      <cmd_min>-1000</cmd_min>
    </plugin>
    
    <!-- POSITION JOINT MOTORS 2 - FRAMES 2 - LEFT -->
    <!--ign topic -t "/pos_j_m1_f1" -m ignition.msgs.Double -p "data: 0.0"-->
    <!--<plugin
      filename="ignition-gazebo-joint-position-controller-system"
      name="ignition::gazebo::systems::JointPositionController">
      <joint_name>l2::j_m_f</joint_name>
      <topic>pos_j_m1_f1</topic>
      <p_gain>4</p_gain>
      <i_gain>1</i_gain>
      <d_gain>1</d_gain>
      <i_max>1</i_max>
      <i_min>-1</i_min>
      <cmd_max>1000</cmd_max>
      <cmd_min>-1000</cmd_min>
    </plugin>-->
    
    <!-- INCLUDE SIMPLE ACTUATOR 2 - LEFT -->
    <include>
      <pose relative_to="j_l2_sa2">0 0 0.0106 0 -1.5708 0</pose>
      <uri>model://rm2_simple_actuator</uri>
      <name>sa2</name>
    </include>

    <!-- JOINT SIMPLE LEG 2 - SIMPLE ACTUATOR 2 - LEFT -->
    <joint name="j_l2_sa2" type="fixed">
      <pose relative_to="l2::fLink">0 0 0.03825 0 0 0 </pose>
      <parent>l2::fLink</parent>
      <child>sa2::aLink</child>
      <!--<axis>
        <xyz>1 0 0</xyz>
        <limit>
          <lower>-0.785398</lower>
          <upper>0.785398</upper>
        </limit>
      </axis>-->
    </joint>
    
    <!-- VELOCITY JOINT SIMPLE ACTUATOR BASE 2 - FORWARD SIMPLE ACTUATOR 2 - LEFT -->
    <!--ign topic -t "/model/rm2_simple/joint/sa2::j_ab_fa/cmd_vel" -m ignition.msgs.Double -p "data: -1.0"-->
    <plugin
      filename="ignition-gazebo-joint-controller-system"
      name="ignition::gazebo::systems::JointController">
      <joint_name>sa2::j_ab_fa</joint_name>
      <initial_velocity>0.0</initial_velocity>
    </plugin>
    
    <!-- VELOCITY JOINT SIMPLE ACTUATOR BASE 2 - BACKWARD SIMPLE ACTUATOR 2 - LEFT -->
    <!--ign topic -t "/model/rm2_simple/joint/sa2::j_ab_ba/cmd_vel" -m ignition.msgs.Double -p "data: -1.0"-->
    <plugin
      filename="ignition-gazebo-joint-controller-system"
      name="ignition::gazebo::systems::JointController">
      <joint_name>sa2::j_ab_ba</joint_name>
      <initial_velocity>0.0</initial_velocity>
    </plugin>
    
    <!-- INCLUDE SIMPLE LEG 3 - RIGHT-->
    <include>
      <pose relative_to="j_b_l3">-0.085512 0 0.011284 0 0 0</pose>
      <uri>model://rm2_simple_leg</uri>
      <name>l3</name>
    </include>

    <!-- JOINT BODY - SIMPLE LEG 3 - RIGHT -->
    <joint name="j_b_l3" type="revolute">
      <pose relative_to="b::bLink">0.081 -0.064947 -0.037515 2.09439510239 0 0</pose>
      <parent>b::bLink</parent>
      <child>l3::lLink</child>
      <axis>
        <xyz>1 0 0</xyz>
        <limit>
          <lower>-0.785398</lower>
          <upper>0.785398</upper>
        </limit>
      </axis>
    </joint>
    
    <!-- POSITION JOINT BODY - SIMPLE LEG 3 - RIGHT -->
    <!--ign topic -t "/pos_j_b_l3" -m ignition.msgs.Double -p "data: 0.0"-->
    <plugin
      filename="ignition-gazebo-joint-position-controller-system"
      name="ignition::gazebo::systems::JointPositionController">
      <joint_name>j_b_l3</joint_name>
      <topic>pos_j_b_l3</topic>
      <p_gain>4</p_gain>
      <i_gain>1</i_gain>
      <d_gain>1</d_gain>
      <i_max>1</i_max>
      <i_min>-1</i_min>
      <cmd_max>1000</cmd_max>
      <cmd_min>-1000</cmd_min>
    </plugin>
    
    <!-- POSITION JOINT MOTORS 3 - FRAMES 3 - RIGHT -->
    <!--ign topic -t "/pos_j_m1_f1" -m ignition.msgs.Double -p "data: 0.0"-->
    <!--<plugin
      filename="ignition-gazebo-joint-position-controller-system"
      name="ignition::gazebo::systems::JointPositionController">
      <joint_name>l3::j_m_f</joint_name>
      <topic>pos_j_m1_f1</topic>
      <p_gain>4</p_gain>
      <i_gain>1</i_gain>
      <d_gain>1</d_gain>
      <i_max>1</i_max>
      <i_min>-1</i_min>
      <cmd_max>1000</cmd_max>
      <cmd_min>-1000</cmd_min>
    </plugin>-->
    
    <!-- INCLUDE SIMPLE ACTUATOR 3 - RIGHT -->
    <include>
      <pose relative_to="j_l3_sa3">0 0 0.0106 0 -1.5708 0</pose>
      <uri>model://rm2_simple_actuator</uri>
      <name>sa3</name>
    </include>

    <!-- JOINT SIMPLE LEG 3 - SIMPLE ACTUATOR 3 - RIGHT -->
    <joint name="j_l3_sa3" type="fixed">
      <pose relative_to="l3::fLink">0 0 0.03825 0 0 0 </pose>
      <parent>l3::fLink</parent>
      <child>sa3::aLink</child>
      <!--<axis>
        <xyz>1 0 0</xyz>
        <limit>
          <lower>-0.785398</lower>
          <upper>0.785398</upper>
        </limit>
      </axis>-->
    </joint>

    <!-- VELOCITY JOINT SIMPLE ACTUATOR BASE 3 - FORWARD SIMPLE ACTUATOR 3 - RIGHT -->
    <!--ign topic -t "/model/rm2_simple/joint/sa3::j_ab_fa/cmd_vel" -m ignition.msgs.Double -p "data: -1.0"-->
    <plugin
      filename="ignition-gazebo-joint-controller-system"
      name="ignition::gazebo::systems::JointController">
      <joint_name>sa3::j_ab_fa</joint_name>
      <initial_velocity>0.0</initial_velocity>
    </plugin>
    
    <!-- VELOCITY JOINT SIMPLE ACTUATOR BASE 3 - BACKWARD SIMPLE ACTUATOR 3 - TIGHY -->
    <!--ign topic -t "/model/rm2_simple/joint/sa3::j_ab_ba/cmd_vel" -m ignition.msgs.Double -p "data: -1.0"-->
    <plugin
      filename="ignition-gazebo-joint-controller-system"
      name="ignition::gazebo::systems::JointController">
      <joint_name>sa3::j_ab_ba</joint_name>
      <initial_velocity>0.0</initial_velocity>
    </plugin>



    <!--<plugin filename="home/psoler/beca_rm2/control_plugin/build/libControl.so"
            name="ignition::gazebo::systems:Control">
      <topic>control</topic>
      <topic_jbl2>j_b_l2</topic_jbl2>
      <topic_jbl3>j_b_l3</topic_jbl3>
      <topic_jabfl2>model/rm2_simple/joint/sa2::j_ab_fa/cmd_vel</topic_jabfl2>
      <topic_jabbl2>model/rm2_simple/joint/sa2::j_ab_ba/cmd_vel</topic_jabbl2>
      <topic_jabfl3>model/rm2_simple/joint/sa3::j_ab_fa/cmd_vel</topic_jabfl3>
      <topic_jabbl3>model/rm2_simple/joint/sa3::j_ab_ba/cmd_vel</topic_jabbl3>
    </plugin>-->
  </model>
</sdf>
