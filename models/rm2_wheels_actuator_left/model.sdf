<?xml version="1.0"?>
<sdf version="1.7">
  <model name="wheelsActuatorLeft">

    <!-- INCLUDE ACTUATOR LINK -->
    <!-- Así hay un link actuator genérico que no depende de lo que haya después -->
    <link name="aLink">
      <pose>0 0 0 0 0 0</pose>
    </link>

    <!-- INCLUDE ACTUATOR BASE -->
    <link name="abLink">
      <pose relative_to="j_a_ab">0 0 0 0 0 0</pose>
      <inertial>
        <mass>0.2</mass>
        <inertia>
          <ixx>0.064</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.064</iyy>
          <iyz>0</iyz>
          <izz>0.00024</izz>
        </inertia>
      </inertial>
      <collision name='collision'>
        <geometry>
          <cylinder>
            <radius>0.009</radius> <!--Rab-->
            <length>0.120</length> <!--Lab-->
          </cylinder>
        </geometry>
      </collision>
      <!--<visual name='visual'>
        <transparency>0.1</transparency>
        <geometry>
          <cylinder>
            <radius>0.009</radius> <!-Rab->
            <length>0.120</length> <!-Lab->
          </cylinder>
        </geometry>
          <material>
            <ambient>0.8 0.8 0.8 1</ambient>
            <diffuse>0.8 0.8 0.8 1</diffuse>
            <specular>0.8 0.8 0.8 1</specular>
          </material>
      </visual>-->
    </link>
    
    <!-- JOINT ACTUATOR - ACTUATOR BASE -->
    <joint name="j_a_ab" type="fixed">
      <pose relative_to="aLink">0 0 0 0 0 0</pose>
      <parent>aLink</parent>
      <child>abLink</child>
    </joint>
    
    <!-- INCLUDE FRONT WHEEL -->
    <link name="fwLink">
      <pose relative_to="j_ab_fw">0 0 0.01 0 0 0</pose>
      <!--La posición del centro de masas de la rueda delantera está a a la mitad del ancho de la rueda en sentido positivo al eje fwZ desde la unión de la base del actuador y la rueda: Wfw/2=0.01/2=0.005-->
      <inertial>
        <mass>0.2</mass>
        <inertia>
          <ixx>0.064</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.064</iyy>
          <iyz>0</iyz>
          <izz>0.00024</izz>
        </inertia>
      </inertial>
      <collision name='collision'>
        <geometry>
          <cylinder>
            <radius>0.034</radius>
            <length>0.020</length>
          </cylinder>
        </geometry>
      </collision>
      <!--<visual name='visual'>
        <pose relative_to="j_ab_fw">0 0 0 0 0 1.5708</pose>
        <transparency>0.1</transparency>
        <geometry>
          <cylinder>
            <radius>0.034</radius> <!-Rfw->
            <length>0.020</length> <!-Wfw->
          </cylinder>
        </geometry>
          <material>
            <ambient>0.8 0.8 0.8 1</ambient>
            <diffuse>0.8 0.8 0.8 1</diffuse>
            <specular>0.8 0.8 0.8 1</specular>
          </material>
      </visual>-->
    </link>
    
    <!-- JOINT ACTUATOR BASE - FRONT WHEEL -->
    <joint name="j_ab_fw" type="revolute">
      <!--La unión de la base del actuador y la rueda delantera está a la mitad de la longitud de la base del actuador desde su centro de masas en el eje abZ con sentido positivo: Lab/2=0.2/2=0.1; y a un radio de la base del actuador en el eje abY con sentido positivo: Rab=0.01
      Además, hay que orientar el eje local de la rueda delantera, bwZ, con el eje local de la base del actuador y, abY, para que quede saliente, girando 90º desde el eje x: roll=pi/2=1.5708-->
      <pose relative_to="abLink">0 -0.009 0.060 1.5708 0 -0.698132</pose>
      <parent>abLink</parent>
      <child>fwLink</child>
      <axis>
        <!--El eje de giro de la rueda está en el eje fwZ en sentido positivo-->
        <xyz>0 0 1</xyz>
      </axis>
    </joint>
    
    <!-- INCLUDE BACK WHEEL -->
    <link name="bwLink">
      <!--La posición del centro de masas de la rueda trasera está a a la mitad del ancho de la rueda en sentido positivo al eje bwZ desde la unión de la base del actuador y la rueda: Wbw/2=0.01/2=0.005-->
      <pose relative_to="j_ab_bw">0 0 0.01 0 0 0</pose>
      <inertial>
        <mass>0.2</mass>
        <inertia>
          <ixx>0.064</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.064</iyy>
          <iyz>0</iyz>
          <izz>0.00024</izz>
        </inertia>
      </inertial>
      <collision name='collision'>
        <geometry>
          <cylinder>
            <radius>0.034</radius>
            <length>0.020</length>
          </cylinder>
        </geometry>
      </collision>
      <!--<visual name='visual'>
        <transparency>0.1</transparency>
        <geometry>
          <cylinder>
            <radius>0.034</radius><!-Rbw->
            <length>0.020</length><!-Wbw->
          </cylinder>
        </geometry>
          <material>
            <ambient>0.8 0.8 0.8 1</ambient>
            <diffuse>0.8 0.8 0.8 1</diffuse>
            <specular>0.8 0.8 0.8 1</specular>
          </material>
      </visual>-->
    </link>
    
    <!-- JOINT ACTUATOR BASE - BACK WHEEL -->
    <joint name="j_ab_bw" type="revolute">
      <!--La unión de la base del actuador y la rueda trasera está a la mitad de la longitud de la base del actuador desde su centro de masas en el eje abZ con sentido negativo: Lab/2=0.2/2=0.1; y a un radio de la base del actuador en el eje abY con negativo positivo: Rab=0.01. Visto en el robot en su conjunto la rueda izquierda queda a la izquierda pero en ejes locales queda a la derecha.
      Además, hay que orientar el eje local de la rueda delantera, bwZ, con el eje local de la base del actuador y, abY, para que quede saliente, girando 90º desde el eje x: roll=pi/2=1.5708-->
      <pose relative_to="abLink">0 -0.01 -0.060 1.5708 0 -0.698132</pose>
      <parent>abLink</parent>
      <child>bwLink</child>
      <axis>
        <!--El eje de giro de la rueda está en el eje bwZ en sentido positivo-->
        <xyz>0 0 1</xyz>
      </axis>
    </joint>
    
  </model>
</sdf>
